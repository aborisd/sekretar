{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://sekretar.app/schemas/intent-detection/v1",
  "title": "Intent Detection Response",
  "description": "Schema for LLM intent detection responses",
  "type": "object",
  "required": ["intent"],
  "properties": {
    "intent": {
      "type": "string",
      "enum": [
        "create_task",
        "modify_task",
        "delete_task",
        "complete_task",
        "schedule_task",
        "create_event",
        "modify_event",
        "delete_event",
        "ask_question",
        "request_suggestion",
        "show_tasks",
        "show_schedule",
        "analyze_productivity",
        "bulk_operation",
        "unclear"
      ],
      "description": "The detected user intent"
    },
    "confidence": {
      "type": "number",
      "minimum": 0,
      "maximum": 1,
      "description": "Confidence score of the intent detection"
    },
    "entities": {
      "type": "object",
      "description": "Extracted entities from the input",
      "properties": {
        "task_title": {
          "type": "string",
          "description": "Title of the task if mentioned"
        },
        "event_title": {
          "type": "string",
          "description": "Title of the event if mentioned"
        },
        "date_time": {
          "type": "string",
          "format": "date-time",
          "description": "ISO 8601 date-time if mentioned"
        },
        "duration_minutes": {
          "type": "integer",
          "minimum": 1,
          "description": "Duration in minutes if mentioned"
        },
        "priority": {
          "type": "integer",
          "minimum": 0,
          "maximum": 3,
          "description": "Priority level (0=low, 1=medium, 2=high, 3=urgent)"
        },
        "project": {
          "type": "string",
          "description": "Project name if mentioned"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Tags or categories mentioned"
        }
      }
    },
    "requires_clarification": {
      "type": "boolean",
      "default": false,
      "description": "Whether additional information is needed from the user"
    },
    "clarification_prompt": {
      "type": "string",
      "description": "Question to ask the user if clarification is needed"
    }
  },
  "additionalProperties": false
}