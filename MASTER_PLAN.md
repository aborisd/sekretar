# Sekretar AI Calendar - Unified Master Plan
**–°–æ–∑–¥–∞–Ω**: 2025-10-03
**–ò—Å—Ç–æ—á–Ω–∏–∫–∏**: BRD_extracted.txt + ai_calendar_production_plan.md (v3) + ai_calendar_production_plan_v4.md

---

## üìä Executive Summary

### –¢—Ä–∏ –ø–ª–∞–Ω–∞ –≤ –æ–¥–Ω–æ–º:
1. **BRD Plan**: M0-M3 (12 –Ω–µ–¥–µ–ª—å) - MVP –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
2. **Production Plan v3**: Phase 1-4 (36 –Ω–µ–¥–µ–ª—å) - Multi-agent —Å–∏—Å—Ç–µ–º–∞
3. **Production Plan v4**: Week 1-16 + –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–Ω–∞ 3 –æ–∫—Ç—è–±—Ä—è 2025):
- **BRD (M0-M3)**: ‚úÖ 95% –∑–∞–≤–µ—Ä—à–µ–Ω–æ (MVP —Ä–∞–±–æ—Ç–∞–µ—Ç)
- **Production v4 (Week 1-10)**: üü° 40% –∑–∞–≤–µ—Ä—à–µ–Ω–æ (–∫–æ–¥ –µ—Å—Ç—å, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å 60%)
- **Production v3 (Phase 1)**: üü° 30% –∑–∞–≤–µ—Ä—à–µ–Ω–æ (foundation)
- **–û–ë–©–ò–ô –ü–†–û–ì–†–ï–°–°**: **~35-40% –æ—Ç –ø–æ–ª–Ω–æ–≥–æ Production –ø–ª–∞–Ω–∞**

---

## üéØ UNIFIED ROADMAP - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –ø–ª–∞–Ω–æ–≤

### ‚úÖ PHASE 0: MVP Foundation (M0-M3 –∏–∑ BRD) - –ó–ê–í–ï–†–®–ï–ù–û
**–°—Ä–æ–∫–∏**: –ù–µ–¥–µ–ª–∏ 1-12 (–¥–æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ –¥–Ω—è)
**–°—Ç–∞—Ç—É—Å**: ‚úÖ 95% Complete

#### M0 (–ù–µ–¥–µ–ª–∏ 1-2): –ü—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- [x] Xcode –ø—Ä–æ–µ–∫—Ç (SwiftUI + CoreData + EventKit)
- [x] –ë–∞–∑–æ–≤—ã–π UI: –ö–∞–ª–µ–Ω–¥–∞—Ä—å, To-Do, –ß–∞—Ç
- [x] CoreData –º–æ–¥–µ–ª–∏ (Task, Event, Project)
- [x] EventKit read-only –∏–º–ø–æ—Ä—Ç
- [x] –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

#### M1 (–ù–µ–¥–µ–ª–∏ 3-4): –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ‚úÖ
- [x] –ö–∞–ª–µ–Ω–¥–∞—Ä—å (–¥–µ–Ω—å/–Ω–µ–¥–µ–ª—è/–º–µ—Å—è—Ü views)
- [x] To-Do CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- [x] –°–≤—è–∑–∏ Task ‚Üî Event
- [x] –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ + offline —Ä–µ–∂–∏–º
- [x] –õ–æ–∫–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- [x] –ë–∞–∑–æ–≤—ã–µ –≤–∏–¥–∂–µ—Ç—ã

#### M2 (–ù–µ–¥–µ–ª–∏ 5-8): AI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚úÖ
- [x] –ß–∞—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (—Ç–µ–∫—Å—Ç + –≥–æ–ª–æ—Å)
- [x] LLM –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (on-device + API)
- [x] JSON intent parsing
- [x] AI validation preview
- [x] Auto-–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
- [x] –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- [x] –£–º–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

#### M3 (–ù–µ–¥–µ–ª–∏ 9-12): MVP –ø–æ–ª–∏—Ä–æ–≤–∫–∞ ‚úÖ
- [x] –£–º–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã
- [x] –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á
- [x] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ (60 FPS)
- [x] Offline sync
- [x] TestFlight –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
- [x] UX –ø–æ–ª–∏—Ä–æ–≤–∫–∞

**BRD Performance Requirements** (–∏–∑ —Å—Ç—Ä–æ–∫ 346-358):
- [x] –°–æ–∑–¥–∞–Ω–∏–µ entity –ª–æ–∫–∞–ª—å–Ω–æ: < 300ms ‚úÖ
- [x] –†–µ–Ω–¥–µ—Ä –∫–∞–ª–µ–Ω–¥–∞—Ä—è/–∑–∞–¥–∞—á: 60 FPS (‚â§16ms frame) ‚úÖ
- [x] AI –æ—Ç–≤–µ—Ç: on-device <2s, cloud <5s ‚úÖ

---

### üü° PHASE 1: Production Foundation (Week 1-8 –∏–∑ v4) - –í –ü–†–û–¶–ï–°–°–ï
**–°—Ä–æ–∫–∏**: –ù–µ–¥–µ–ª–∏ 13-20
**–°—Ç–∞—Ç—É—Å**: üü° 45% Complete (–∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω, –Ω–æ –Ω–µ —Å—Ç–∞–±–∏–ª–µ–Ω)

#### Week 1-2: Vector Memory System üü° 70%
**–¶–µ–ª—å**: Contextual AI —Å –¥–æ–ª–≥–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø–∞–º—è—Ç—å—é

##### Completed ‚úÖ:
- [x] VectorMemoryStore (303 —Å—Ç—Ä–æ–∫) - SQLite ‚Üí UserDefaults migration
- [x] MemoryService (334 —Å—Ç—Ä–æ–∫) - interaction tracking
- [x] LocalEmbedder integration
- [x] Memory types: interaction, task, event, insight, preference, context
- [x] Semantic search (cosine similarity)
- [x] Auto-pruning (90+ days)

##### Issues ‚ö†Ô∏è:
- [ ] VectorMemoryStore —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–π (UserDefaults bottleneck)
- [ ] MemoryService.buildContextPrompt –±–ª–æ–∫–∏—Ä—É–µ—Ç AI –æ—Ç–≤–µ—Ç—ã
- [ ] –í–†–ï–ú–ï–ù–ù–û –û–¢–ö–õ–Æ–ß–ï–ù–û –≤ AIIntentService –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

##### TODO (—á—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å):
- [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å VectorStore –Ω–∞ CoreData —Å proper indexing
- [ ] –î–æ–±–∞–≤–∏—Ç—å async context building –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ UI
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å unit tests –¥–ª—è memory operations
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ 100+ interactions

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**: AI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 5 —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö memories –±–µ–∑ –∑–∞–¥–µ—Ä–∂–∫–∏ >200ms

---

#### Week 3-4: Smart LLM Router üü¢ 90%
**–¶–µ–ª—å**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è costs —á–µ—Ä–µ–∑ intelligent routing

##### Completed ‚úÖ:
- [x] ComplexityClassifier (266 —Å—Ç—Ä–æ–∫) - Simple/Medium/Complex detection
- [x] SmartLLMRouter (324 —Å—Ç—Ä–æ–∫) - LRU cache + retry logic
- [x] MultiProviderLLMClient (468 —Å—Ç—Ä–æ–∫) - Gemini/OpenAI/Anthropic
- [x] Cost optimization: 60-70% savings
- [x] Complexity-based routing:
  - Simple ‚Üí Gemini Flash ($0.075/$0.30)
  - Medium ‚Üí GPT-4o-mini ($0.15/$0.60)
  - Complex ‚Üí Claude Sonnet ($3/$15)
- [x] ComplexityClassifierTests (333 —Å—Ç—Ä–æ–∫) - 25+ unit tests
- [x] Russian + English support

##### Issues ‚ö†Ô∏è:
- [ ] –ù–µ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö API –∫–ª—é—á–µ–π (–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è mock providers)
- [ ] –ù–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ ChatScreen
- [ ] Cache metrics –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è

##### TODO:
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–≤–æ–∏ API keys –≤ config
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å –≤ ChatScreen: `llmProvider.generate()` ‚Üí `multiProvider.generateWithRouting()`
- [ ] –î–æ–±–∞–≤–∏—Ç—å UI indicator –∫–∞–∫–∞—è –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [ ] Dashboard –¥–ª—è cache hit rate + cost savings

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**: –ü—Ä–æ—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ Gemini Flash, —Å–ª–æ–∂–Ω—ã–µ –Ω–∞ Claude, cache hit rate >40%

---

#### Week 5-6: Backend Foundation üü° 60%
**–¶–µ–ª—å**: FastAPI backend –¥–ª—è sync + auth

##### Completed ‚úÖ:
- [x] FastAPI app structure (80 —Å—Ç—Ä–æ–∫ main.py)
- [x] PostgreSQL + pgvector setup
- [x] Docker compose (Postgres + Redis + Backend)
- [x] User model (JWT auth, Apple Sign In)
- [x] Auth endpoints: `/auth/register`, `/auth/login`, `/auth/apple`
- [x] Sync endpoints: `/sync/push`, `/sync/pull`
- [x] Health check endpoint
- [x] Database migrations (Alembic)
- [x] Poetry dependency management
- [x] Automated test script (test_api.sh)

##### Issues ‚ö†Ô∏è:
- [ ] **–ù–ï –¢–ï–°–¢–ò–†–û–í–ê–õ–ò** - –Ω–µ –∑–Ω–∞–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏
- [ ] Docker daemon –Ω–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ MacBook
- [ ] –ù–µ—Ç production deployment config
- [ ] –°–µ–∫—Ä–µ—Ç—ã —Ö–∞—Ä–¥–∫–æ–∂–µ–Ω—ã –≤ .env

##### TODO:
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å: `cd backend && docker-compose up -d`
- [ ] –ü—Ä–æ–≥–Ω–∞—Ç—å: `./test_api.sh`
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ failing tests
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase/Railway –¥–ª—è production
- [ ] –î–æ–±–∞–≤–∏—Ç—å proper secret management

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**: All test_api.sh tests pass, backend deployed –Ω–∞ staging

---

#### Week 7-8: iOS Backend Integration üü° 70%
**–¶–µ–ª—å**: Sync + Auth + Conflict Resolution

##### Completed ‚úÖ:
- [x] NetworkService (330 —Å—Ç—Ä–æ–∫) - Generic HTTP client + JWT auth
- [x] AuthManager (330 —Å—Ç—Ä–æ–∫) - Keychain + Apple Sign In
- [x] SyncService (480 —Å—Ç—Ä–æ–∫) - Background sync + conflicts
- [x] SyncConflictView (320 —Å—Ç—Ä–æ–∫) - Beautiful conflict UI
- [x] SyncStatusView (280 —Å—Ç—Ä–æ–∫) - Status indicator + settings
- [x] AppDelegate - BGTaskScheduler registration
- [x] Info.plist - Background modes permissions

##### Issues ‚ö†Ô∏è:
- [ ] **–ù–ï –ò–ù–¢–ï–ì–†–ò–†–û–í–ê–ù–û –í UI** - –∫–æ–¥ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [ ] SyncService –∏—Å–ø–æ–ª—å–∑—É–µ—Ç NSManagedObject (–Ω–µ—Ç typed entities)
- [ ] –ù–µ—Ç Login/Register screen –≤ app
- [ ] Background sync –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏

##### TODO:
- [ ] –°–æ–∑–¥–∞—Ç—å AuthenticationView (Login/Register/Apple Sign In)
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤ Settings ‚Üí SyncStatusView
- [ ] –î–æ–±–∞–≤–∏—Ç—å sync trigger –≤ app lifecycle
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å sync –Ω–∞ 2+ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –î–æ–±–∞–≤–∏—Ç—å conflict resolution flow

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**: –ó–∞–¥–∞—á–∞ —Å–æ–∑–¥–∞–Ω–∞ –Ω–∞ iPhone A ‚Üí –ø–æ—è–≤–ª—è–µ—Ç—Å—è –Ω–∞ iPhone B –≤ —Ç–µ—á–µ–Ω–∏–µ 30 —Å–µ–∫

---

### üü° PHASE 2: Advanced NLP (Week 9-10 –∏–∑ v4) - –ß–ê–°–¢–ò–ß–ù–û
**–°—Ä–æ–∫–∏**: –ù–µ–¥–µ–ª–∏ 21-22
**–°—Ç–∞—Ç—É—Å**: üü° 30% Complete

#### Week 9-10: Enhanced Intent Recognition üü° 30%
**–¶–µ–ª—å**: Natural language parsing (–Ω–µ keyword-based)

##### Completed ‚úÖ:
- [x] EnhancedIntentService (520 —Å—Ç—Ä–æ–∫):
  - [x] DateParser - relative dates ("–∑–∞–≤—Ç—Ä–∞", "next Monday")
  - [x] EntityExtractor - NLTagger (people, locations, orgs)
  - [x] ConversationContextManager - multi-turn conversations
  - [x] RU/EN language support
- [x] Intent types: createTask, createEvent, search, update, delete
- [x] Confidence-based classification

##### Issues ‚ö†Ô∏è:
- [ ] **–ù–ï –ü–û–î–ö–õ–Æ–ß–ï–ù –ö CHAT** - –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- [ ] SmartSuggestionsService —Å–ª–æ–º–∞–ª—Å—è (type conflicts)
- [ ] UnifiedNLPService –Ω–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª—Å—è
- [ ] –ù–µ—Ç integration tests

##### TODO:
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ ChatScreen –≤–º–µ—Å—Ç–æ –ø—Ä–æ—Å—Ç–æ–≥–æ keyword parsing
- [ ] –î–æ—Ñ–∏–∫—Å–∏—Ç—å SmartSuggestionsService (rename conflicts)
- [ ] –°–æ–∑–¥–∞—Ç—å UnifiedNLPService –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –î–æ–±–∞–≤–∏—Ç—å UI –¥–ª—è entity preview ("–Ø –Ω–∞—à—ë–ª –¥–∞—Ç—É: –∑–∞–≤—Ç—Ä–∞ 15:00")
- [ ] –ù–∞–ø–∏—Å–∞—Ç—å tests –¥–ª—è date parsing

**–ö—Ä–∏—Ç–µ—Ä–∏–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏**: "–í—Å—Ç—Ä–µ—á–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 3 —á–∞—Å–∞ —Å –ë–æ—Ä–∏—Å–æ–º" ‚Üí —Å–æ–∑–¥–∞—ë—Ç event –Ω–∞ –∑–∞–≤—Ç—Ä–∞ 15:00 —Å person entity

---

### ‚ùå PHASE 3: Multi-Agent System (Week 11-16 –∏–∑ v4) - –ù–ï –ù–ê–ß–ê–¢–û
**–°—Ä–æ–∫–∏**: –ù–µ–¥–µ–ª–∏ 23-28
**–°—Ç–∞—Ç—É—Å**: ‚ùå 0% Complete

#### Week 11-12: AI Context Enhancement
- [ ] Agent orchestration layer
- [ ] Specialized agents (Planner, Scheduler, Context)
- [ ] Agent communication protocol
- [ ] Contextual prompt engineering

#### Week 13-14: Advanced UI/UX Polish
- [ ] Live Activities integration
- [ ] Advanced widgets
- [ ] Voice input improvements
- [ ] Accessibility audit

#### Week 15-16: Temporal Intelligence
- [ ] Energy mapping
- [ ] Smart scheduling
- [ ] Pattern recognition
- [ ] Predictive suggestions

---

### ‚ùå PHASE 4: Premium Features (Week 17+ –∏–∑ v3) - –ù–ï –ù–ê–ß–ê–¢–û
**–°—Ä–æ–∫–∏**: –ù–µ–¥–µ–ª–∏ 29+
**–°—Ç–∞—Ç—É—Å**: ‚ùå 0% Complete

- [ ] Collaboration features (shared workspaces)
- [ ] Knowledge graph
- [ ] Advanced analytics
- [ ] Monetization (subscriptions)
- [ ] Localization (5+ languages)
- [ ] Production launch

---

## üìà PROGRESS METRICS

### Code Volume
```
BRD (M0-M3):           ~15,000 —Å—Ç—Ä–æ–∫ (MVP baseline)
Week 1-2 (Memory):     ~600 —Å—Ç—Ä–æ–∫
Week 3-4 (Router):     ~1,200 —Å—Ç—Ä–æ–∫ + tests
Week 5-6 (Backend):    ~2,500 —Å—Ç—Ä–æ–∫ (Python)
Week 7-8 (iOS Sync):   ~1,700 —Å—Ç—Ä–æ–∫
Week 9-10 (NLP):       ~520 —Å—Ç—Ä–æ–∫
TOTAL NEW:             ~6,520 —Å—Ç—Ä–æ–∫ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
```

### Quality Metrics
```
BRD (MVP):             ‚úÖ 95% —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
Week 1-2:              ‚ö†Ô∏è 70% (–æ—Ç–∫–ª—é—á–µ–Ω–æ –∏–∑-–∑–∞ performance)
Week 3-4:              ‚úÖ 90% (–∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è, –Ω–µ—Ç API keys)
Week 5-6:              ‚ö†Ô∏è 60% (–Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∏)
Week 7-8:              ‚ö†Ô∏è 70% (–Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ)
Week 9-10:             ‚ö†Ô∏è 30% (—á–∞—Å—Ç–∏—á–Ω–æ —Å–ª–æ–º–∞–Ω–æ)
```

### Overall Progress
```
BRD Plan (M0-M3):                    ‚úÖ 95% DONE
Production v4 (Week 1-10):           üü° 40% DONE
Production v3 (Phase 1 of 4):        üü° 30% DONE
Full Production Plan (all phases):   üü° 20-25% DONE
```

---

## üéØ PRIORITIZED ROADMAP - –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –ö—Ä–∏—Ç–µ—Ä–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏:
1. **–ö–†–ò–¢–ò–ß–ù–û–°–¢–¨**: –õ–æ–º–∞–µ—Ç –ª–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å?
2. **–í–ò–î–ò–ú–û–°–¢–¨**: –í–∏–¥–∏—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç?
3. **–ó–ê–í–ò–°–ò–ú–û–°–¢–ò**: –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ª–∏ –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏?
4. **–°–õ–û–ñ–ù–û–°–¢–¨**: –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–π–º—ë—Ç?

---

### üî¥ CRITICAL - –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–ª–æ–º–∞–Ω–Ω–æ–µ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)

#### Task 1.1: –ü–æ—á–∏–Ω–∏—Ç—å Memory Service ‚è±Ô∏è 2-3 —á–∞—Å–∞
**–ü—Ä–æ–±–ª–µ–º–∞**: MemoryService –±–ª–æ–∫–∏—Ä—É–µ—Ç AI –æ—Ç–≤–µ—Ç—ã –≤ —á–∞—Ç–µ
**Impact**: –ö—Ä–∏—Ç–∏—á–Ω–æ - —á–∞—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞–¥–æ

**–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è**:
1. [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å VectorMemoryStore –Ω–∞ CoreData (1—á)
   - –°–æ–∑–¥–∞—Ç—å VectorMemoryEntity —Å embedding: Data
   - –ò–Ω–¥–µ–∫—Å –ø–æ timestamp, type
   - –ú–∏–≥—Ä–∞—Ü–∏—è –∏–∑ UserDefaults
2. [ ] –°–¥–µ–ª–∞—Ç—å buildContextPrompt async non-blocking (30–º)
   - Timeout 200ms
   - Fallback –Ω–∞ –ø—É—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –µ—Å–ª–∏ –º–µ–¥–ª–µ–Ω–Ω–æ
3. [ ] –î–æ–±–∞–≤–∏—Ç—å unit tests (30–º)
   - Test: 100 memories ‚Üí getRecent() < 100ms
   - Test: searchSimilar() < 200ms
4. [ ] –í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ –≤ AIIntentService (15–º)
5. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ iPhone (15–º)

**Success criteria**:
- [ ] AI –æ—Ç–≤–µ—Ç—ã –ø—Ä–∏—Ö–æ–¥—è—Ç < 5 —Å–µ–∫—É–Ω–¥
- [ ] Memory –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç chat
- [ ] –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 interactions –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

---

#### Task 1.2: –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–±–æ—Ä–∫—É ‚è±Ô∏è 1 —á–∞—Å
**–ü—Ä–æ–±–ª–µ–º–∞**: HomeScreen.swift –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ

**–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è**:
1. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å DemoContentView –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HomeScreen (10–º)
2. [ ] –î–æ–±–∞–≤–∏—Ç—å debug print –≤ HomeScreen.onAppear (5–º)
3. [ ] –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å (10–º)
4. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ (10–º)
5. [ ] –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –æ—Ç–∫–∞—Ç–∏—Ç—å –∫ –ø—Ä–æ—Å—Ç–æ–º—É UI (15–º)

**Success criteria**:
- [ ] –ì–ª–∞–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ–ª—å—Ñ–∏–Ω–∞ + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- [ ] –ò–õ–ò –æ—Ç–∫–∞—á–µ–Ω–æ –∫ —Ä–∞–±–æ—á–µ–π –≤–µ—Ä—Å–∏–∏

---

### üü° HIGH - –ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞—á–∞—Ç–æ–µ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)

#### Task 2.1: Smart Router - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è ‚è±Ô∏è 2-3 —á–∞—Å–∞
**Impact**: –≠–∫–æ–Ω–æ–º–∏—è –¥–µ–Ω–µ–≥ –Ω–∞ API calls (60-70%)
**Visibility**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç badge "üî• Fast model" vs "üß† Smart model"

**–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è**:
1. [ ] –î–æ–±–∞–≤–∏—Ç—å API keys –≤ config (15–º)
   ```swift
   // sekretar/Config.plist
   GEMINI_API_KEY: "—Ç–≤–æ–π –∫–ª—é—á"
   OPENAI_API_KEY: "—Ç–≤–æ–π –∫–ª—é—á"
   ANTHROPIC_API_KEY: "—Ç–≤–æ–π –∫–ª—é—á"
   ```
2. [ ] –û–±–Ω–æ–≤–∏—Ç—å AIProviderFactory –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MultiProviderLLMClient (30–º)
3. [ ] –î–æ–±–∞–≤–∏—Ç—å UI badge –≤ ChatScreen (30–º)
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∫–∞—è –º–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å
   - Cache hit indicator
4. [ ] –î–æ–±–∞–≤–∏—Ç—å settings –¥–ª—è router config (1—á)
   - Toggle: enable/disable smart routing
   - Slider: complexity threshold
5. [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–∞—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (30–º)

**Success criteria**:
- [ ] "What's 2+2?" ‚Üí Gemini Flash ($0.000015)
- [ ] "Explain quantum entanglement" ‚Üí Claude Sonnet ($0.03)
- [ ] Cache hit rate > 40% –ø–æ—Å–ª–µ 10 –∑–∞–ø—Ä–æ—Å–æ–≤

---

#### Task 2.2: Backend - –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å ‚è±Ô∏è 4-6 —á–∞—Å–æ–≤
**Impact**: –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç sync —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
**Visibility**: Sync –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

**–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è**:
1. [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker (1—á)
   ```bash
   cd backend
   docker-compose up -d
   docker-compose logs -f
   ```
2. [ ] –ü—Ä–æ–≥–Ω–∞—Ç—å test_api.sh (30–º)
   - –ó–∞–ø–∏—Å–∞—Ç—å failing tests
3. [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ backend (2-3—á)
   - Database migrations
   - Auth flow bugs
   - Sync logic issues
4. [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase –¥–ª—è staging (1—á)
   - Create project
   - Setup PostgreSQL + pgvector
   - Deploy backend –Ω–∞ Supabase Functions
5. [ ] Update iOS app —Å staging URL (15–º)

**Success criteria**:
- [ ] Health check returns 200 OK
- [ ] Register + Login —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Push 1 task ‚Üí Pull retrieves it

---

### üü¢ MEDIUM - –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)

#### Task 3.1: Enhanced NLP - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —á–∞—Ç ‚è±Ô∏è 3-4 —á–∞—Å–∞
**Impact**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å "–≤—Å—Ç—Ä–µ—á–∞ –∑–∞–≤—Ç—Ä–∞" –≤–º–µ—Å—Ç–æ —Ç–æ—á–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
**Visibility**: –û—á–µ–Ω—å –∑–∞–º–µ—Ç–Ω–æ - UX —É–ª—É—á—à–∞–µ—Ç—Å—è –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ

**–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è**:
1. [ ] –°–æ–∑–¥–∞—Ç—å NLPPreviewCard UI component (1—á)
   ```swift
   struct NLPPreviewCard: View {
       let intent: RecognizedIntent
       // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "–Ø –ø–æ–Ω—è–ª: –í—Å—Ç—Ä–µ—á–∞ –∑–∞–≤—Ç—Ä–∞ –≤ 15:00 —Å –ë–æ—Ä–∏—Å–æ–º"
       // Entities: üìÖ –ó–∞–≤—Ç—Ä–∞, üïí 15:00, üë§ –ë–æ—Ä–∏—Å
   }
   ```
2. [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å EnhancedIntentService –≤ ChatScreen (1—á)
   - Replace keyword parsing
   - Show NLPPreviewCard before creating entity
3. [ ] –î–æ–±–∞–≤–∏—Ç—å confirm/edit flow (1—á)
   - –ö–Ω–æ–ø–∫–∏: ‚úÖ Correct | ‚úèÔ∏è Edit | ‚ùå Cancel
4. [ ] –ù–∞–ø–∏—Å–∞—Ç—å integration tests (30–º)

**Success criteria**:
- [ ] "–≤—Å—Ç—Ä–µ—á–∞ —Å –ë–æ—Ä–∏—Å–æ–º –∑–∞–≤—Ç—Ä–∞ –≤ 3" ‚Üí Preview shows correct entities
- [ ] User confirms ‚Üí Event created with correct data
- [ ] "–∫—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ —á–µ—Ä–µ–∑ 2 –¥–Ω—è" ‚Üí Task with due date

---

### ‚ö™ LOW - –ü–æ–ª–∏—Ä–æ–≤–∫–∞ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4)

#### Task 4.1: App Icon + Launch Screen
#### Task 4.2: Sync UI –≤ Settings
#### Task 4.3: Animations and transitions
#### Task 4.4: Accessibility audit

---

## ü§ù COLLABORATION PROTOCOL

### –î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã:

#### 1. Task Selection Process
```
–ö–ê–ñ–î–´–ô –†–ê–ó –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º:
1. –¢—ã –≤—ã–±–∏—Ä–∞–µ—à—å –∏–∑ MASTER_PLAN.md —á—Ç–æ —Ö–æ—á–µ—à—å
2. –Ø –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä—É—é –Ω–∞ –ø–æ–¥–∑–∞–¥–∞—á–∏ (–µ—Å–ª–∏ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
3. –¢—ã —É—Ç–≤–µ—Ä–∂–¥–∞–µ—à—å –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é
4. –Ø –¥–µ–ª–∞—é –û–î–ù–£ –∑–∞–¥–∞—á—É –¥–æ –∫–æ–Ω—Ü–∞
5. –¢—ã —Ç–µ—Å—Ç–∏—Ä—É–µ—à—å
6. –ö–æ–º–º–∏—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–≤–æ–µ–≥–æ OK
```

#### 2. Definition of Done
```
–ó–∞–¥–∞—á–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è DONE —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞:
‚úÖ –ö–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω
‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Ç–æ–±–æ–π –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
‚úÖ –ù–∏—á–µ–≥–æ –Ω–µ —Å–ª–æ–º–∞–ª–æ—Å—å
‚úÖ –¢—ã –≤–∏–¥–∏—à—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```

#### 3. Communication
```
–ü–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–µ–π:
- –Ø —Å–ø—Ä–∞—à–∏–≤–∞—é: "–ß—Ç–æ –¥–µ–ª–∞–µ–º —Å–µ–≥–æ–¥–Ω—è –∏–∑ MASTER_PLAN?"
- –¢—ã –≤—ã–±–∏—Ä–∞–µ—à—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- –Ø –æ—Ü–µ–Ω–∏–≤–∞—é –≤—Ä–µ–º—è
- –¢—ã —Ä–µ—à–∞–µ—à—å —Å—Ç–æ–∏—Ç –ª–∏ –Ω–∞—á–∏–Ω–∞—Ç—å
```

#### 4. Progress Tracking
```
–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:
- –û–±–Ω–æ–≤–ª—è—é MASTER_PLAN.md —Å—Ç–∞—Ç—É—Å
- –ö–æ–º–º–∏—á—É —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –∑–∞–¥–∞—á—É
- –û–±–Ω–æ–≤–ª—è—é –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
```

---

## üìä Success Metrics

### Technical Health
- [ ] Build success rate > 95%
- [ ] Zero compilation warnings
- [ ] Test coverage > 60%
- [ ] No crashes in production
- [ ] AI response time < 5s (p95)

### User Experience
- [ ] App launch time < 2s
- [ ] 60 FPS on all screens
- [ ] Offline mode works
- [ ] Sync latency < 30s
- [ ] AI accuracy > 85%

### Business
- [ ] Daily active users > 100
- [ ] Retention (Day 7) > 40%
- [ ] NPS > 50
- [ ] Crash-free sessions > 99%

---

## üéØ NEXT SESSION RECOMMENDATIONS

### –í—ã–±–µ—Ä–∏ –û–î–ù–£ –∏–∑ –∑–∞–¥–∞—á:

**Option A: CRITICAL - Fix Memory (2-3h)**
‚Üí –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —á–∞—Ç, —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç AI context

**Option B: HIGH - Smart Router Integration (2-3h)**
‚Üí –≠–∫–æ–Ω–æ–º–∏—Ç –¥–µ–Ω—å–≥–∏, –≤–∏–¥–∏–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ä–∞–∑—É

**Option C: HIGH - Backend Testing (4-6h)**
‚Üí –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ—Ç sync, –∞–º–±–∏—Ü–∏–æ–∑–Ω–æ, –∫—Ä—É—Ç–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**Option D: MEDIUM - Enhanced NLP (3-4h)**
‚Üí –ó–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ª—É—á—à–µ UX, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å—Ä–∞–∑—É –∑–∞–º–µ—Ç—è—Ç

---

**–°–æ–∑–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ 3 planning documents**
**Last updated**: 2025-10-03 23:45 UTC
**Next review**: –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π completed task
